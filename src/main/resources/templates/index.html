<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{/layout/common :: head(~{::title})}">
    <title>首页</title>
    <style>
        .list-click{
            background-color: #ddddff;
            font-weight: bold;
        }
    </style>
</head>
<body>
<div class="main">
<div th:insert="~{/layout/header :: header}"></div>
<div class="container-fluid margin-bottom-50px">
    <div class="col-xs-2">
        <div class="list-group">
            <a href="#" class="list-group-item active">文章分类</a>
            <div th:each="category: ${categoryList}">
                <a th:id="${categoryId}" href="#" th:href="@{'/blog/query/' + ${category.getId()}}" class="list-group-item" th:text="${category.getName()}">暂无分类</a>
            </div>
        </div>
    </div>
    <div class="col-xs-8">
        <div th:each="article: ${articleList}">
            <div class="media" style="margin-bottom: 30px;">
                <div class="media-left">
                    <a href="#">
                        <img src="/image/desc_1.png" style="border-radius: 10px">
                    </a>
                </div>
                <div class="media-body">
                    <h4 class="media-heading">
                        <strong><a href="/blog/article/detail/" th:text="${article.getTitle()}"></a></strong> &emsp;
                        <small>
                            <a href="#">
                                <span class="glyphicon glyphicon-th-list" th:text="${article.getCategoryName()}"></span>
                            </a>
                        </small>
                        <small style="float: right;" th:text="${#calendars.format(article.getCreateTime(),'yyyy-MM-dd')}"></small>
                    </h4>
                    <p th:text="${article.getDescription()}"></p>
                    <p style="float: right">
                        <a href="#">
                            <span class="glyphicon glyphicon-eye-open" th:text="${article.getHits()}"></span> &nbsp;
                        </a>
                        <a href="#"><span class="glyphicon glyphicon-thumbs-up" th:text="${article.getHits()}">291</span></a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:insert="~{/layout/footer :: footer}"></div>
</div>
</body>
<script>
    $(function () {
        $("#" + ${categoryId}).addClass("list-click");
        $("#" + ${categoryId}).siblings().removeClass("list-click");
    });
</script>
</html>